import fs from"fs";import crypto from"crypto";const z1="save/save.dat",z2="n1c3k3y",z3="s0m3B@s3S@lt",k=crypto.scryptSync(z2,z3,32),v=Buffer.alloc(16,0);export function guardar(d){const e={checkpoint:d,timestamp:Date.now()},f=JSON.stringify(e),g=crypto.createCipheriv("aes-256-cbc",k,v),h=Buffer.concat([g.update(f,"utf8"),g.final()]);fs.writeFileSync(z1,h)}export function carregar(){if(!fs.existsSync(z1))return null;const i=fs.readFileSync(z1),j=crypto.createDecipheriv("aes-256-cbc",k,v),l=Buffer.concat([j.update(i),j.final()]);try{return JSON.parse(l.toString("utf8")).checkpoint}catch{return null}}export function apagar(){if(fs.existsSync(z1))fs.unlinkSync(z1)}